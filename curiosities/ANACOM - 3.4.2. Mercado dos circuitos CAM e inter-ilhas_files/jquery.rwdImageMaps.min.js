(function(b){b.fn.rwdImageMaps=function(){var d=this;var a=function(){d.each(function(){if(typeof(b(this).attr("usemap"))=="undefined"){return;}var c=this,f=b(c);b("<img />").load(function(){var u="width",p="height",h=f.attr(u),s=f.attr(p);if(!h||!s){var e=new Image();e.src=f.attr("src");if(!h){h=e.width;}if(!s){s=e.height;}}var v=f.width()/100,r=f.height()/100,t=f.attr("usemap").replace("#",""),q="coords";b('map[name="'+t+'"]').find("area").each(function(){var i=b(this);if(!i.data(q)){i.data(q,i.attr(q));}var j=i.data(q).split(","),k=new Array(j.length);for(var g=0;g<k.length;++g){if(g%2===0){k[g]=parseInt(((j[g]/h)*100)*v);}else{k[g]=parseInt(((j[g]/s)*100)*r);}}i.attr(q,k.toString());});}).attr("src",f.attr("src"));});};b(window).resize(a).trigger("resize");return this;};})(jQuery);